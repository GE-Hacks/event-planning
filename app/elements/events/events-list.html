<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="events-list">
    <template>
        <input value="{{eventFilter::input}}">
        <div><h3>{{eventFilter}}</h3></div>
        <template is="dom-repeat" items="{{events}}" filter="matchesCategory" observe="category">
              <paper-material elevation="2">
                <div>{{item.name}}</div>
                <div>{{item.creator}}</div>
                <div>{{item.location}}</div>
                <div>{{item.time}}</div>
                <template is="dom-repeat" items="{{item.usersGoing}}" as="users" index-as="user_no">
                  <div><span>{{user_no}}</span>. 
                       <span>{{users}}</span>
                  </div>
                </template>
              </paper-material>
        </template>
    </template>

    <script>
        (function() {
            'use strict';

            Polymer({
                is: 'events-list',

                ready: function() {
                    this.events= [
                        {
                            name: "Event Hackathon",
                            id:"1",
                            creator: "AG",
                            location: "BU",
                            time: "10:00",
                            usersGoing: ["Adrian", "Habib"],
                            category: "test"
                        },
                        {
                            name:"Event Sunday",
                            id:"2",
                            creator: "Habib",
                            location: "BU",
                            time: "12:00",
                            usersGoing: ["Adrian", "Habib"],
                            category: "test"
                        },
                         {
                            name:"Party Time at the North Pole",
                            id:"3",
                            creator: "Pauuu",
                            location: "North Pole",
                            time: "3:00",
                            usersGoing: ["Adrian", "Habib"],
                            category: "party"
                        }
                        ]
                },
                matchesCategory: function(item, category) {
                   console.log(item);
                   console.log(category);
                    if (!category) category = "party";
                    return item.category ==  category
                }

            });
        })();

    </script>

</dom-module>